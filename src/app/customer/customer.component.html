<div class = "bg-image">
</div>
<div class = "bg-text">
    <div *ngIf="customer; else no_customer">
          <h2 class="blurry-text">Witaj</h2>
          <h2 class="blurry-text2">{{customer.userName}}</h2>
        
        <div *ngIf="customer.reservations && customer.reservations.length; else other_content">
          <p>Twoja liczba rezerwacji: {{customer.reservations.length}}</p>

          <button type="button" class="btn btn-warning" (click)="show()" *ngIf="showButton">Wyswietl wszystkie rezerwacje</button>
          <ng-container *ngIf="!showButton">
              <table>
                  <tr>
                    <th>Numer</th>
                    <th>Imie</th>
                    <th>Nazwisko</th> 
                    <th>Data</th>
                    <th>Telefon</th>
                  </tr>
                  <tr *ngFor = "let r of reservationToshow">
                    <td>{{r.number}}</td>
                    <td>{{r.firstName}}</td>
                    <td>{{r.lastName}}</td> 
                    <td>{{r.date}}</td>
                    <td>{{r.telephone}}</td>
                  </tr>
                </table>
                <br>
            <button type="button" class="btn btn-warning" (click)="show()">Schowaj rezerwacje</button>
          </ng-container>  
          
          <br><br><br>

          <button type="button" class="btn btn-success" (click)="book()">Dodaj rezerwacje</button>
          <br><br><br>

          <p>Jesli chcesz usunąć rezerwaje, podaj jej numer: 
            <br> <br>
            <input type="text" placeholder="Numer" [(ngModel)]="reservationToDelete" style = "width: 60px;"> 
            <br> <br>
            <button type="button" class="btn btn-danger" (click)="delete()">Usun rezerwacje</button>
            <br><br>
          </p>

          <p>Kliknij aby się wylogować i wrócić na stronę główną</p>
          <button type="button" class="btn btn-dark" (click)="logOut()">Wyloguj</button>
        </div>
      
        <!-- Brak rezerwacji -->
        <ng-template #other_content>
            <p>Niestety nie posiadasz aktualnie żadnej rezerwacji</p>
            <p>Zachęcamy Cię do złożenia nowej</p>
            <button type="button" class="btn btn-light" (click)="book()">Dodaj rezerwacje</button>
      
        <br><br><br><br>
      
        <button type="button" class="btn btn-dark" (click)="logOut()">Wyloguj</button>
        <br><br>
          <p>Wyloguj się, aby wrócić na stronę główną gdzie możesz zapoznać się z naszą aktualną ofertą</p>
          <p>Jeśli wciąż masz wątpliwości lub pytania zapraszamy do kontaktu</p>
      
        </ng-template>
      </div>
      
      <!-- Brak konta -->
      <ng-template #no_customer>
          <p>Niestety nie udało się poprawnie zalogować</p>
          <p><a routerLink="/login">Spróbuj ponownie</a></p>
          <p>Lub wróć do <a routerLink="/home">strony głównej</a></p>
      </ng-template>
</div>